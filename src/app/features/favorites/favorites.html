<div class="container mt-4">
  <h2 class="mb-4 text-center">Mis favoritos</h2>
  <div class="row g-4">
    <div class="col-12 col-sm-6 col-md-4" *ngFor="let vehicle of favorites">
      <div class="card h-100 shadow-sm favorite-card" *ngIf="vehicle">
        
        <!-- Imagen normal con cover -->
        <img [src]="getImageUrl(vehicle.images[0])" 
             class="card-img-top vehicle-img" 
             alt="Imagen del vehículo">

        <div class="card-body d-flex flex-column">
          <h5 class="card-title">{{ vehicle?.brand }} {{ vehicle?.version }}</h5>
          <p class="card-text mb-1"><strong>Año:</strong> {{ vehicle?.year }}</p>
          <p class="card-text mb-1"><strong>Kilometraje:</strong> {{ vehicle?.mileage }} km</p>

          <div class="mt-auto d-flex gap-2">
            <!-- Botón para ver detalle -->
            <a *ngIf="vehicle?._id"
               [routerLink]="['/vehicles', vehicle._id]"
               class="btn btn-outline-primary w-50">
              <i class="fa-solid fa-eye"></i> Detalle
            </a>

            <!-- Botón para quitar favorito -->
            <button *ngIf="vehicle?._id"
                    class="btn btn-danger w-50"
                    (click)="removeFavorite(vehicle._id!)">
              <i class="fa-solid fa-trash"></i> Quitar
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mensaje si no hay favoritos -->
  <div *ngIf="favorites.length === 0" class="d-flex justify-content-center align-items-center flex-column mt-5">
    <i class="bi bi-search text-muted" style="font-size: 3rem;"></i>
    <p class="text-muted fs-5 mt-3">No se encontraron vehículos para tu búsqueda.</p>
  </div>
</div>
